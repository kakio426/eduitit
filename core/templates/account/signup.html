{% extends 'base.html' %}
{% load i18n %}
{% load account socialaccount %}

{% block title %}에듀이티잇 - 회원가입{% endblock %}

{% block content %}
<main class="pt-32 pb-20 px-4 md:px-8 min-h-screen flex items-center justify-center">
    <div class="w-full max-w-lg" data-aos="zoom-in">
        <div class="clay-card p-10 md:p-12 bg-[#E0E5EC]">
            <!-- Header -->
            <div class="text-center mb-10">
                <div
                    class="w-20 h-20 rounded-full bg-white mx-auto flex items-center justify-center shadow-clay text-blue-500 text-4xl mb-6">
                    <i class="fa-solid fa-user-plus"></i>
                </div>
                <h1 class="text-5xl md:text-6xl font-bold text-gray-700 mb-2">선생님, 환영합니다!</h1>
                <p class="text-2xl text-gray-400 font-hand">에듀이티잇과 함께 스마트한 교실을 만들어봐요.</p>
            </div>

            <!-- Signup Form -->
            <form class="signup space-y-6" id="signup_form" method="post" action="{% url 'account_signup' %}">
                {% csrf_token %}

                {% if form.errors %}
                <div
                    class="p-4 mb-6 rounded-2xl bg-red-50 text-red-500 text-xl border border-red-100 shadow-clay-inner">
                    {% for field, errors in form.errors.items %}
                    {% for error in errors %}
                    <p><i class="fa-solid fa-circle-exclamation mr-2"></i>{{ error }}</p>
                    {% endfor %}
                    {% endfor %}
                </div>
                {% endif %}

                <!-- Username (Email) -->
                <div>
                    <label for="id_email" class="block text-2xl font-bold text-gray-600 mb-2 ml-4">이메일 주소</label>
                    <input type="email" name="email" placeholder="사용하실 이메일을 입력하세요" id="id_email"
                        class="w-full px-6 py-4 rounded-full bg-[#E0E5EC] shadow-clay-inner border-none focus:ring-4 focus:ring-blue-200 outline-none text-2xl transition-all"
                        required>
                </div>

                <!-- Password -->
                <div>
                    <label for="id_password1" class="block text-2xl font-bold text-gray-600 mb-2 ml-4">비밀번호</label>
                    <input type="password" name="password1" placeholder="안전한 비밀번호를 입력하세요" id="id_password1"
                        class="w-full px-6 py-4 rounded-full bg-[#E0E5EC] shadow-clay-inner border-none focus:ring-4 focus:ring-blue-200 outline-none text-2xl transition-all"
                        required>
                </div>

                <!-- Password Confirmation -->
                <div>
                    <label for="id_password2" class="block text-2xl font-bold text-gray-600 mb-2 ml-4">비밀번호 확인</label>
                    <input type="password" name="password2" placeholder="한 번 더 입력해 주세요" id="id_password2"
                        class="w-full px-6 py-4 rounded-full bg-[#E0E5EC] shadow-clay-inner border-none focus:ring-4 focus:ring-blue-200 outline-none text-2xl transition-all"
                        required>
                </div>

                {% if redirect_field_value %}
                <input type="hidden" name="{{ redirect_field_name }}" value="{{ redirect_field_value }}" />
                {% endif %}

                <button type="submit"
                    class="w-full py-5 mt-4 bg-blue-500 text-white text-3xl font-bold rounded-full shadow-clay hover:shadow-clay-hover hover:scale-[1.02] active:scale-[0.98] transition-all">
                    가입 완료하기
                </button>
            </form>

            <div class="mt-8 pt-8 border-t border-gray-200/50">
                <p class="text-center text-xl text-gray-400 font-hand mb-6">또는 소셜 계정으로 간편 가입</p>

                <div class="grid grid-cols-2 gap-4">
                    <a href="{% provider_login_url 'kakao' %}"
                        class="flex items-center justify-center gap-3 py-4 rounded-full bg-[#FEE500] shadow-clay hover:shadow-clay-hover transition-all">
                        <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_small.png"
                            class="w-6 h-6" alt="카카오">
                        <span class="text-xl font-bold text-[#3C1E1E]">카카오 가입</span>
                    </a>

                    <a href="{% provider_login_url 'naver' %}"
                        class="flex items-center justify-center gap-3 py-4 rounded-full bg-[#03C75A] shadow-clay hover:shadow-clay-hover transition-all">
                        <img src="https://clova-static.itv.co.kr/public/0.0.1/images/naver-logo.png"
                            class="w-5 h-5 filter brightness-0 invert" alt="네이버">
                        <span class="text-xl font-bold text-white">네이버 가입</span>
                    </a>
                </div>

                <p class="text-center mt-8 text-xl text-gray-500 font-hand">
                    이미 계정이 있으신가요?
                    <a href="{% url 'account_login' %}" class="text-blue-600 font-bold ml-1 hover:underline">로그인</a>
                </p>
            </div>
        </div>
    </div>
</main>
{% endblock %}