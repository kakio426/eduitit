{% extends 'base.html' %}

{% block title %}AI 도구 가이드 - Eduitit{% endblock %}

{% block content %}
<section class="pt-32 pb-20 px-6 min-h-screen">
    <div class="max-w-7xl mx-auto">
        <!-- Hero Section -->
        <div class="text-center mb-12">
            <span class="inline-block px-4 py-1 rounded-full shadow-clay text-purple-500 font-bold text-xl mb-4">
                👋 2026 Edu-Tech & Vibe Coding
            </span>
            <h1 class="text-5xl md:text-6xl font-bold text-gray-700 text-shadow mb-6">
                "선생님, 이럴 땐 <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500">이
                    도구</span>를 쓰세요!"
            </h1>
            <p class="text-2xl text-gray-500 font-hand leading-relaxed max-w-3xl mx-auto">
                매일 쏟아지는 AI 툴, 이름만 들어서는 어디에 쓰는 건지 모르시겠죠?<br>
                <strong>"어떤 상황"</strong>에 필요한지 딱 정해드립니다.
            </p>
        </div>

        <!-- Filter Tabs -->
        <div class="flex flex-wrap justify-center gap-4 mb-12">
            <button onclick="filterTools('all')"
                class="filter-btn active clay-btn shadow-clay px-6 py-3 rounded-clay text-gray-700 font-bold hover:shadow-clay-hover hover:text-purple-600 transition-all">전체
                보기</button>
            <button onclick="filterTools('ai')"
                class="filter-btn clay-btn shadow-clay px-6 py-3 rounded-clay text-gray-500 font-bold hover:shadow-clay-hover hover:text-purple-600 transition-all">🤖
                AI 비서</button>
            <button onclick="filterTools('dev')"
                class="filter-btn clay-btn shadow-clay px-6 py-3 rounded-clay text-gray-500 font-bold hover:shadow-clay-hover hover:text-purple-600 transition-all">💻
                코딩/개발</button>
            <button onclick="filterTools('art')"
                class="filter-btn clay-btn shadow-clay px-6 py-3 rounded-clay text-gray-500 font-bold hover:shadow-clay-hover hover:text-purple-600 transition-all">🎨
                창작/예술</button>
            <button onclick="filterTools('work')"
                class="filter-btn clay-btn shadow-clay px-6 py-3 rounded-clay text-gray-500 font-bold hover:shadow-clay-hover hover:text-purple-600 transition-all">⚡
                생산성</button>
        </div>

        <!-- Tools Grid -->
        <div id="tools-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
            <!-- Cards Injected via JS -->
        </div>

        <!-- My Projects Link -->
        <div class="mt-20 pt-10 border-t border-gray-300">
            <h2 class="text-4xl font-bold text-gray-700 mb-8 text-center">이 도구들로 만든 제 작품들이에요</h2>
            <div class="flex flex-col md:flex-row gap-8">
                <a href="#"
                    class="flex-1 clay-card shadow-clay p-8 rounded-clay group hover:shadow-clay-hover cursor-pointer transition-all duration-300">
                    <div class="flex justify-between mb-4">
                        <h3 class="text-2xl font-bold text-gray-700 group-hover:text-purple-500 transition">🎓 NEIS 생기부
                            AI</h3>
                        <i
                            class="fa-solid fa-arrow-right text-gray-400 group-hover:text-purple-500 transition transform group-hover:translate-x-2"></i>
                    </div>
                    <p class="text-gray-500 font-hand text-xl">ChatGPT API + Python으로 제작</p>
                </a>
                <a href="#"
                    class="flex-1 clay-card shadow-clay p-8 rounded-clay group hover:shadow-clay-hover cursor-pointer transition-all duration-300">
                    <div class="flex justify-between mb-4">
                        <h3 class="text-2xl font-bold text-gray-700 group-hover:text-purple-500 transition">🪑 황금손 자리배치
                        </h3>
                        <i
                            class="fa-solid fa-arrow-right text-gray-400 group-hover:text-purple-500 transition transform group-hover:translate-x-2"></i>
                    </div>
                    <p class="text-gray-500 font-hand text-xl">Cursor + V0.dev로 1시간 만에 완성</p>
                </a>
                <a href="#"
                    class="flex-1 clay-card shadow-clay p-8 rounded-clay group hover:shadow-clay-hover cursor-pointer transition-all duration-300">
                    <div class="flex justify-between mb-4">
                        <h3 class="text-2xl font-bold text-gray-700 group-hover:text-purple-500 transition">🎵 교실 BGM
                            생성기</h3>
                        <i
                            class="fa-solid fa-arrow-right text-gray-400 group-hover:text-purple-500 transition transform group-hover:translate-x-2"></i>
                    </div>
                    <p class="text-gray-500 font-hand text-xl">Suno AI API 연동 웹앱</p>
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Modal Overlay -->
<div id="modal-overlay"
    class="fixed inset-0 bg-gray-900/40 z-50 hidden backdrop-blur-sm transition-opacity duration-300 opacity-0"
    onclick="closeModal()"></div>

<!-- Modal Content -->
<div id="modal-content"
    class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-2xl max-h-[85vh] clay-card p-0 shadow-clay rounded-clay z-50 hidden transition-all duration-300 scale-95 opacity-0 flex flex-col bg-[#E0E5EC]">

    <!-- Header -->
    <div class="p-6 border-b border-gray-300 flex justify-between items-center shrink-0 bg-[#E0E5EC] rounded-t-[30px]">
        <div class="flex items-center gap-4">
            <div id="modal-icon"
                class="w-14 h-14 rounded-2xl shadow-clay-inner flex items-center justify-center text-3xl"></div>
            <div>
                <h2 id="modal-title" class="text-3xl font-bold text-gray-700"></h2>
                <span id="modal-badge"
                    class="inline-block mt-1 px-3 py-0.5 rounded-full text-sm font-bold shadow-clay-inner"></span>
            </div>
        </div>
        <button onclick="closeModal()"
            class="w-10 h-10 rounded-full shadow-clay-inner flex items-center justify-center text-gray-500 hover:text-red-500 transition-colors">
            <i class="fa-solid fa-xmark text-xl"></i>
        </button>
    </div>

    <!-- Scrollable Body -->
    <div class="p-8 overflow-y-auto flex-1 bg-[#E0E5EC] custom-scrollbar">
        <!-- Explain Section -->
        <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-700 mb-3 flex items-center gap-2"><i
                    class="fa-regular fa-lightbulb text-yellow-500"></i> 어떤 툴인가요?</h3>
            <p id="modal-desc"
                class="text-gray-600 text-lg leading-relaxed shadow-clay-inner p-6 rounded-2xl bg-gray-100/50"></p>
        </div>

        <!-- Update Section -->
        <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-700 mb-3 flex items-center gap-2">
                <i class="fa-solid fa-bolt text-blue-500"></i> 최신 업데이트 (2026.01)
            </h3>
            <div class="clay-card shadow-clay p-6 rounded-clay bg-blue-50/50 border border-blue-100">
                <p id="modal-summary" class="text-blue-800 font-bold text-lg mb-4"></p>
                <ul id="modal-details" class="space-y-3 text-blue-700"></ul>
            </div>
        </div>

        <div class="text-center pt-2">
            <a href="#"
                class="clay-btn shadow-clay px-8 py-3 rounded-clay text-gray-700 font-bold hover:shadow-clay-hover hover:text-purple-600 transition inline-flex items-center gap-2">
                공식 홈페이지 가기 <i class="fa-solid fa-arrow-up-right-from-square"></i>
            </a>
        </div>
    </div>
</div>

<style>
    .custom-scrollbar::-webkit-scrollbar {
        width: 8px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
        background-color: #cbd5e0;
        border-radius: 4px;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background-color: #a0aec0;
    }

    .filter-btn.active {
        color: #9333ea;
        /* purple-600 */
        box-shadow: inset 6px 6px 10px 0 rgba(163, 177, 198, 0.7), inset -6px -6px 10px 0 rgba(255, 255, 255, 0.8);
        /* shadow-clay-inner */
    }
</style>

{% endblock %}

{% block extra_js %}
<script>
    /* 2026 Vibe Coding Tool List */
    const toolsData = [
        // --- 1. AI Assistant (Chat/LLM) ---
        {
            id: 'chatgpt',
            name: 'ChatGPT',
            category: 'ai',
            icon: '<i class="fa-solid fa-robot text-green-500"></i>',
            desc: '만능 해결사. 가정통신문 초안, 수업 아이디어, 고민 상담 등 텍스트로 하는 모든 일의 기본입니다.',
            summary: 'Canvas 기능이 무료로 풀렸어요! 글쓰기나 코딩할 때 별도 창에서 수정이 가능해져서 훨씬 편합니다.',
            details: ['Canvas 기능 전면 무료화', 'SearchGPT 통합으로 실시간 검색 강화', '기억(Memory) 용량 2배 증가']
        },
        {
            id: 'claude',
            name: 'Claude 3.7',
            category: 'ai',
            icon: '<i class="fa-solid fa-brain text-orange-500"></i>',
            desc: '글쓰기와 코딩의 신. ChatGPT보다 한국어 문장이 훨씬 자연스럽고, 긴 문서를 분석할 때 탁월합니다.',
            summary: '코딩 실력이 비약적으로 상승한 3.7 버전이 나왔습니다. "Artifacts" 기능으로 결과물을 바로 미리볼 수 있어요.',
            details: ['Claude 3.7 Sonnet 모델 출시', '모바일 앱 속도 개선', '프로젝트(Project) 기능 문서 용량 확대']
        },
        {
            id: 'gemini',
            name: 'Gemini',
            category: 'ai',
            icon: '<i class="fa-solid fa-star text-blue-500"></i>',
            desc: '구글 찐친. 구글 문서, 스프레드시트, 유튜브 내용을 분석하거나 요약해야 할 때 가장 강력합니다.',
            summary: '구글 워크스페이스 연동성이 강화되었습니다. 이제 드라이브에 있는 PDF 파일 10개를 한 번에 요약할 수 있어요.',
            details: ['Gemini 2.5 Flash 업데이트', 'Google Sheets 자동 시각화 기능', 'Youtube 영상 챕터 자동 생성']
        },
        {
            id: 'perplexity',
            name: 'Perplexity',
            category: 'ai',
            icon: '<i class="fa-solid fa-magnifying-glass text-teal-500"></i>',
            desc: '거짓말 안 하는 검색 AI. 논문, 뉴스 기사 등 "출처"가 중요한 자료를 찾을 때 네이버/구글 대신 쓰세요.',
            summary: 'Deep Research 모드가 추가되었습니다. 질문 하나만 던지면 AI가 30분 동안 웹을 뒤져서 심층 보고서를 써줍니다.',
            details: ['Deep Research 기능 베타', 'Pro Search 속도 개선', '학술 논문 검색 필터 추가']
        },

        // --- 2. Coding & Dev (Vibe Coding Essential) ---
        {
            id: 'cursor',
            name: 'Cursor',
            category: 'dev',
            icon: '<i class="fa-solid fa-terminal text-gray-700"></i>',
            desc: 'AI가 탑재된 코딩 편집기. "이거 만들어줘"라고 치면 코드를 다 짜줍니다. 바이브 코딩의 핵심 툴!',
            summary: 'Composer 기능이 더 강력해졌습니다. 이제 파일 하나가 아니라 프로젝트 전체 구조를 이해하고 코드를 수정해줍니다.',
            details: ['Composer 다중 파일 편집 기능', '자연어 터미널 명령 지원', 'Python 가상환경 자동 설정']
        },
        {
            id: 'replit',
            name: 'Replit',
            category: 'dev',
            icon: '<i class="fa-solid fa-code text-blue-600"></i>',
            desc: '설치 없는 코딩. 복잡한 세팅 없이 인터넷 창에서 바로 코딩하고 결과물을 공유할 수 있습니다.',
            summary: 'Replit Agent가 정식 출시되었습니다. "벽돌깨기 게임 만들어줘"라고 말만 하면 앱 배포까지 알아서 다 해줍니다.',
            details: ['Replit Agent 정식 런칭', 'Teams 협업 기능 강화', '모바일 앱 코딩 지원']
        },
        {
            id: 'bolt',
            name: 'Bolt.new',
            category: 'dev',
            icon: '<i class="fa-solid fa-bolt text-yellow-500"></i>',
            desc: '웹사이트 자판기. "학교 소개 페이지 만들어줘" 하면 디자인부터 기능까지 완성된 사이트를 뚝딱 만들어줍니다.',
            summary: '이미지 업로드 기능이 생겼습니다. 손으로 그린 그림을 올리면 그걸 그대로 웹사이트로 코딩해줍니다.',
            details: ['Image-to-Code 기능 추가', 'Netlify 배포 연동', 'React 최신 버전 지원']
        },
        {
            id: 'v0',
            name: 'v0.dev',
            category: 'dev',
            icon: '<i class="fa-solid fa-shapes text-gray-700"></i>',
            desc: '디자인 복사기. 마음에 드는 사이트 캡처해서 올리면 똑같은 모양의 코드를 만들어줍니다. (Vercel 만듦)',
            summary: '피그마(Figma) 디자인을 코드로 변환하는 정확도가 99%까지 올라갔습니다.',
            details: ['Figma to React 변환 개선', 'Tailwind CSS 최적화', '다크 모드 자동 생성']
        },
        {
            id: 'vercel',
            name: 'Vercel',
            category: 'dev',
            icon: '<i class="fa-solid fa-triangle-exclamation text-black"></i>',
            desc: '무료 배포 도구. 내가 만든 웹사이트를 전 세계 사람들이 접속할 수 있게 주소(URL)를 만들어줍니다.',
            summary: '무료 요금제 대역폭이 늘어났습니다. 학생들이 많이 접속해도 사이트가 안 터져요.',
            details: ['Next.js 16 최적화', '무료 플랜 대역폭 상향', 'AI SDK 통합']
        },

        // --- 3. Creative (Art/Video/Audio) ---
        {
            id: 'midjourney',
            name: 'Midjourney',
            category: 'art',
            icon: '<i class="fa-solid fa-palette text-purple-600"></i>',
            desc: '그림 그려주는 화가. PPT 배경, 학습지 삽화, 행사 포스터에 들어갈 고퀄리티 이미지가 필요할 때.',
            summary: '드디어 웹사이트에서 이미지 생성이 가능합니다! (디스코드 안 써도 됨)',
            details: ['웹 생성 기능 전면 오픈', '이미지 수정(Inpainting) 툴 개선', 'v7 모델 테스트 시작']
        },
        {
            id: 'sora',
            name: 'Sora',
            category: 'art',
            icon: '<i class="fa-solid fa-video text-red-500"></i>',
            desc: '영상 제작 PD. "우주를 여행하는 고양이"라고 치면 진짜 영화 같은 영상을 만들어줍니다. (OpenAI)',
            summary: '최대 1분 길이의 영상을 끊김 없이 생성할 수 있게 되었습니다. 수업 도입부 영상으로 딱이에요.',
            details: ['영상 길이 1분으로 확장', '사운드 효과 자동 생성', '영상 편집 기능 추가']
        },
        {
            id: 'suno',
            name: 'Suno',
            category: 'art',
            icon: '<i class="fa-solid fa-music text-pink-500"></i>',
            desc: '작곡가 AI. "졸업식 노래 만들어줘" 하면 가사, 멜로디, 보컬까지 포함된 노래를 1분 만에 만듭니다.',
            summary: 'v4 모델이 나왔습니다. 이제 한국어 발음이 사람이 부르는 것처럼 아주 자연스러워졌어요.',
            details: ['v4 모델 출시', '가사 수정 기능(Remix) 강화', '악기 트랙 분리 다운로드']
        },
        {
            id: 'elevenlabs',
            name: 'ElevenLabs',
            category: 'art',
            icon: '<i class="fa-solid fa-microphone-lines text-gray-600"></i>',
            desc: '성우 AI. 듣기 평가 파일이나 안내 방송이 필요할 때, 텍스트를 입력하면 사람 목소리로 읽어줍니다.',
            summary: '감정 표현 기능이 생겼습니다. "화난 목소리", "속삭이는 목소리" 등 연출이 가능합니다.',
            details: ['Speech-to-Speech(목소리 변조) 강화', '한국어 감정 표현 추가', '효과음 생성 기능']
        },

        // --- 4. Productivity (Work) ---
        {
            id: 'gamma',
            name: 'Gamma',
            category: 'work',
            icon: '<i class="fa-solid fa-layer-group text-yellow-500"></i>',
            desc: 'PPT 공장. 주제만 입력하면 디자인, 내용, 이미지가 다 들어간 프레젠테이션 자료를 만들어줍니다.',
            summary: '한글 폰트 지원이 대폭 늘어났고, 만든 자료를 파워포인트(PPT) 파일로 변환하는 기능이 완벽해졌습니다.',
            details: ['PPT 변환 레이아웃 깨짐 해결', '웹사이트 모드 지원', '한글 폰트 20종 추가']
        },
        {
            id: 'notion',
            name: 'Notion',
            category: 'work',
            icon: '<i class="fa-solid fa-n text-black"></i>',
            desc: '만능 다이어리. 학급 일지, 업무 정리, 홈페이지 제작까지. 예쁘게 정리하는 걸 좋아한다면 필수.',
            summary: '노션 캘린더와 데이터베이스가 완전히 하나로 합쳐졌습니다. 일정 관리가 정말 편해졌어요.',
            details: ['Notion Calendar 양방향 동기화', '차트(Chart) 보기 기능 추가', 'AI 자동 채우기 속도 개선']
        },
        {
            id: 'canva',
            name: 'Canva',
            category: 'work',
            icon: '<i class="fa-solid fa-pen-fancy text-blue-400"></i>',
            desc: '디자인 치트키. 안내장, 포스터, 카드뉴스... 디자이너가 만든 것 같은 템플릿이 수만 개 있습니다.',
            summary: '매직 스튜디오(AI)가 더 똑똑해졌습니다. "이 포스터를 가을 느낌으로 바꿔줘" 하면 색감을 싹 바꿔줍니다.',
            details: ['Magic Switch(디자인 변환) 강화', '텍스트-비디오 변환', '교육용 템플릿 500종 추가']
        },
        {
            id: 'zapier',
            name: 'Zapier',
            category: 'work',
            icon: '<i class="fa-solid fa-bolt text-orange-500"></i>',
            desc: '자동화 연결고리. "설문지 들어오면 엑셀에 적고 나한테 문자 보내줘" 같은 반복 업무를 자동화합니다.',
            summary: 'AI가 만드는 자동화(Zap) 기능이 생겼습니다. 말로 설명하면 복잡한 자동화 로직을 짜줍니다.',
            details: ['Natural Language Actions', 'Canvas 인터페이스 도입', '무료 플랜 단계 수 증가']
        },
        {
            id: 'framer',
            name: 'Framer',
            category: 'work',
            icon: '<i class="fa-solid fa-f text-black"></i>',
            desc: '웹 디자인 툴. PPT 만들듯이 마우스로 그리면 진짜 작동하는 웹사이트가 됩니다. (디자인 중심)',
            summary: 'AI 번역 기능이 추가되어, 사이트를 만들면 자동으로 다국어 버전 페이지가 생성됩니다.',
            details: ['AI Localization 기능', '3D 효과 컴포넌트 추가', '폼(Form) 기능 강화']
        },
        {
            id: 'lilac',
            name: 'Lilac',
            category: 'dev',
            icon: '<i class="fa-solid fa-database text-purple-700"></i>',
            desc: '데이터 청소부. 비구조화된 텍스트 데이터를 분석해서 깔끔하게 정리해주는 툴입니다. (개발자용)',
            summary: 'RAG 파이프라인 구축이 쉬워졌습니다. 선생님만의 챗봇 만들 때 데이터 정리가 편해요.',
            details: ['Cluster 분석 시각화', 'PII(개인정보) 자동 마스킹', 'HuggingFace 연동']
        }
    ];

    // --- Render Logic ---
    const grid = document.getElementById('tools-grid');
    const filterBtns = document.querySelectorAll('.filter-btn');

    function renderTools(filter = 'all') {
        grid.style.opacity = '0';

        setTimeout(() => {
            grid.innerHTML = '';

            const filtered = filter === 'all'
                ? toolsData
                : toolsData.filter(t => t.category === filter);

            filtered.forEach(tool => {
                const card = document.createElement('div');
                card.className = `clay-card shadow-clay p-8 rounded-clay group hover:shadow-clay-hover cursor-pointer transition-all duration-300 flex flex-col h-full`;
                card.onclick = () => openModal(tool);

                // Category Badge Text & Color
                let catText = '', catColor = '';
                if (tool.category === 'ai') { catText = 'AI 비서'; catColor = 'text-blue-500'; }
                else if (tool.category === 'dev') { catText = '개발/코딩'; catColor = 'text-purple-500'; }
                else if (tool.category === 'art') { catText = '창작/예술'; catColor = 'text-orange-500'; }
                else { catText = '생산성'; catColor = 'text-green-500'; }

                card.innerHTML = `
                    <div class="flex justify-between items-start mb-6">
                        <div class="flex items-center gap-4">
                            <div class="w-14 h-14 rounded-2xl shadow-clay-inner flex items-center justify-center text-3xl shrink-0">
                                ${tool.icon}
                            </div>
                            <div>
                                <h3 class="text-2xl font-bold text-gray-700 leading-none mb-2">${tool.name}</h3>
                                <span class="text-sm font-bold ${catColor}">${catText}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mb-4 flex-1">
                        <p class="text-gray-500 font-hand text-xl leading-relaxed">
                            ${tool.desc}
                        </p>
                    </div>

                    <div class="pt-4 border-t border-gray-200 flex justify-between items-center mt-auto">
                        <span class="text-sm text-gray-400 font-mono"><i class="fa-regular fa-clock"></i> 1d ago</span>
                        <span class="text-base font-bold text-purple-500 group-hover:underline">업데이트 확인 &rarr;</span>
                    </div>
                `;
                grid.appendChild(card);
            });

            grid.style.opacity = '1';
        }, 200);
    }

    function filterTools(cat) {
        renderTools(cat);
        filterBtns.forEach(btn => {
            if (btn.getAttribute('onclick').includes(cat)) {
                btn.classList.add('active');
                btn.classList.remove('text-gray-500');
                btn.classList.add('text-gray-700');
            } else {
                btn.classList.remove('active');
                btn.classList.add('text-gray-500');
                btn.classList.remove('text-gray-700');
            }
        });
    }

    // --- Modal Logic ---
    const overlay = document.getElementById('modal-overlay');
    const modal = document.getElementById('modal-content');

    function openModal(tool) {
        document.getElementById('modal-icon').innerHTML = tool.icon;
        document.getElementById('modal-title').innerText = tool.name;

        // Set Badge text
        const badge = document.getElementById('modal-badge');
        if (tool.category === 'ai') { badge.innerText = 'AI Assistant'; badge.classList.remove('text-purple-500', 'text-orange-500', 'text-green-500'); badge.classList.add('text-blue-500'); }
        else if (tool.category === 'dev') { badge.innerText = 'Development'; badge.classList.remove('text-blue-500', 'text-orange-500', 'text-green-500'); badge.classList.add('text-purple-500'); }
        else if (tool.category === 'art') { badge.innerText = 'Creative'; badge.classList.remove('text-blue-500', 'text-purple-500', 'text-green-500'); badge.classList.add('text-orange-500'); }
        else { badge.innerText = 'Productivity'; badge.classList.remove('text-blue-500', 'text-purple-500', 'text-orange-500'); badge.classList.add('text-green-500'); }

        document.getElementById('modal-desc').innerHTML = tool.desc;
        document.getElementById('modal-summary').innerText = tool.summary;

        const detailHtml = tool.details.map(d => `<li class="flex items-start gap-2"><i class="fa-solid fa-check mt-1"></i><span>${d}</span></li>`).join('');
        document.getElementById('modal-details').innerHTML = detailHtml;

        overlay.classList.remove('hidden');
        modal.classList.remove('hidden');

        // Animation
        setTimeout(() => {
            overlay.classList.remove('opacity-0');
            modal.classList.remove('opacity-0', 'scale-95');
            modal.classList.add('scale-100');
        }, 10);

        document.body.style.overflow = 'hidden';
    }

    function closeModal() {
        overlay.classList.add('opacity-0');
        modal.classList.remove('scale-100');
        modal.classList.add('opacity-0', 'scale-95');

        setTimeout(() => {
            overlay.classList.add('hidden');
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto';
        }, 300);
    }

    // Init
    renderTools('all');
</script>
{% endblock %}