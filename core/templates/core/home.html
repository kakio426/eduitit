{% extends 'base.html' %}

{% block title %}Eduitit - 선생님의 스마트한 하루{% endblock %}

{% block extra_css %}
<style>
    /* Custom Scrollbar for Feed */
    .custom-scrollbar::-webkit-scrollbar {
        width: 4px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
        background: transparent;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 4px;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
    }

    .custom-scrollbar {
        scrollbar-width: thin;
        scrollbar-color: #cbd5e1 transparent;
    }
</style>
{% endblock %}

{% block extra_js %}
<!-- HTMX -->
<script src="https://unpkg.com/htmx.org@1.9.10"></script>
<script>
    document.body.addEventListener('htmx:configRequest', (event) => {
        event.detail.headers['X-CSRFToken'] = '{{ csrf_token }}';
    });
</script>
<!-- Phosphor Icons -->
<script src="https://unpkg.com/@phosphor-icons/web"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Product Cards Modal Logic
        document.querySelectorAll('.product-card').forEach(card => {
            card.addEventListener('click', function (e) {
                const id = this.getAttribute('data-product-id');
                if (window.openModal) {
                    window.openModal(id);
                }
            });

            card.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    card.click();
                }
            });
        });
    });
</script>
{% endblock %}

{% block content %}
<!-- URL Definitions -->
{% url 'yut_game' as yut_url %}
{% url 'prompt_lab' as prompt_lab_url %}
{% url 'tool_guide' as tool_guide_url %}

<div class="flex flex-col md:flex-row min-h-screen pt-20 md:pt-40 max-w-[1920px] mx-auto bg-[#E0E5EC]">

    <!-- SNS 위젯 -->
    {% include 'core/partials/sns_widget.html' %}

    <!-- 메인 콘텐츠 -->
    <main class="flex-1 pb-8 md:pb-12 px-3 md:px-8 overflow-y-auto pt-0">

        <!-- Header / Hero Section -->
        <div class="flex flex-col justify-center text-center mb-6 md:mb-12" data-aos="fade-up">
            <h1
                class="text-2xl md:text-5xl lg:text-6xl font-extrabold text-gray-800 tracking-tight leading-tight mb-2 md:mb-4">
                선생님의 <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-blue-600">스마트한
                    하루</span>
            </h1>
            <p
                class="text-sm md:text-lg lg:text-xl text-gray-500 max-w-3xl mx-auto leading-relaxed break-keep font-bold px-4">
                AI로 더 똑똑하게, 더 즐겁게<span class="hidden md:inline">. 수업 준비부터 행정 업무까지</span>
            </p>
        </div>

        <!-- BENTO GRID -->
        <div class="bento-grid">
            <!-- 1. Featured Hero Card -->
            {% if featured_product %}
            {% include 'core/includes/card_product.html' with product=featured_product delay='100' %}
            {% endif %}

            <!-- 2. Dynamic Product Cards -->
            {% for product in products %}
            {% if product.id != featured_product.id %}
            {% include 'core/includes/card_product.html' with product=product delay='200' %}
            {% endif %}
            {% endfor %}

            <!-- 7. Why Eduitit? (System Card) -->
            <div class="col-span-2 md:col-span-2 clay-card p-4 md:p-6 lg:p-8 h-full bg-slate-900 text-white border-none shadow-xl relative overflow-hidden"
                data-aos="fade-up" data-aos-delay="500">
                <h3 class="text-base md:text-xl lg:text-2xl font-bold mb-3 md:mb-4 flex items-center gap-2">
                    <span
                        class="w-6 h-6 md:w-8 md:h-8 rounded-lg bg-indigo-500 flex items-center justify-center text-xs md:text-sm"><i
                            class="fa-solid fa-sparkles"></i></span>
                    <span class="hidden sm:inline">EDUITIT만의 </span>특별함
                </h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4 lg:gap-6 relative z-10">
                    <div class="space-y-0.5 md:space-y-1">
                        <div class="flex items-center gap-1 md:gap-2 text-indigo-400 font-bold text-xs md:text-sm">
                            <i class="fa-solid fa-check text-[10px] md:text-xs"></i>
                            <span class="text-[10px] md:text-xs uppercase tracking-wider">Free</span>
                        </div>
                        <p class="text-sm md:text-base lg:text-lg font-bold">100% 무료</p>
                    </div>
                    <div class="space-y-0.5 md:space-y-1">
                        <div class="flex items-center gap-1 md:gap-2 text-blue-400 font-bold text-xs md:text-sm">
                            <i class="fa-solid fa-check text-[10px] md:text-xs"></i>
                            <span class="text-[10px] md:text-xs uppercase tracking-wider">Web</span>
                        </div>
                        <p class="text-sm md:text-base lg:text-lg font-bold">무설치</p>
                    </div>
                    <div class="space-y-0.5 md:space-y-1">
                        <div class="flex items-center gap-1 md:gap-2 text-emerald-400 font-bold text-xs md:text-sm">
                            <i class="fa-solid fa-check text-[10px] md:text-xs"></i>
                            <span class="text-[10px] md:text-xs uppercase tracking-wider">AI</span>
                        </div>
                        <p class="text-sm md:text-base lg:text-lg font-bold">최신 AI</p>
                    </div>
                    <div class="space-y-0.5 md:space-y-1">
                        <div class="flex items-center gap-1 md:gap-2 text-orange-400 font-bold text-xs md:text-sm">
                            <i class="fa-solid fa-check text-[10px] md:text-xs"></i>
                            <span class="text-[10px] md:text-xs uppercase tracking-wider">Teacher</span>
                        </div>
                        <p class="text-sm md:text-base lg:text-lg font-bold">교사 제작</p>
                    </div>
                </div>

                <!-- Decor -->
                <div
                    class="absolute -right-10 -bottom-10 w-32 h-32 md:w-40 md:h-40 bg-purple-500/20 rounded-full blur-3xl pointer-events-none">
                </div>
            </div>

            <!-- 8. Feedback (Action Card) -->
            <div class="col-span-2 md:col-span-2 clay-card p-4 md:p-6 lg:p-8 h-full flex flex-col sm:flex-row items-center justify-between gap-3 md:gap-4 bg-white/40 backdrop-blur-md relative overflow-hidden"
                data-aos="fade-up" data-aos-delay="600">
                <div class="text-center sm:text-left">
                    <h3 class="text-base md:text-xl lg:text-2xl font-bold text-gray-800 mb-0.5 md:mb-1">도구 제안</h3>
                    <p class="text-slate-500 text-sm md:text-base hidden sm:block">아이디어를 기다려요</p>
                </div>
                <a href="mailto:kakio@naver.com"
                    class="px-4 py-2 md:px-6 md:py-3 bg-indigo-600 text-white rounded-xl font-bold text-sm md:text-base hover:bg-slate-800 transition-all flex items-center gap-2 shadow-lg hover:-translate-y-1 relative z-10 whitespace-nowrap">
                    <i class="fa-solid fa-paper-plane text-xs md:text-sm"></i> 의견 보내기
                </a>
                <div
                    class="absolute -right-10 -bottom-10 w-32 h-32 md:w-40 md:h-40 bg-indigo-200/50 rounded-full blur-3xl pointer-events-none">
                </div>
            </div>

        </div> <!-- End Bento Grid -->
    </main>

</div>

<script>

    // Product Cards Logic
    document.querySelectorAll('.product-card').forEach(card => {
        card.addEventListener('click', () => {
            const id = card.getAttribute('data-product-id');
            if (window.openModal) window.openModal(id);
        });

        card.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                card.click();
            }
        });
    });
</script>
{% endblock %}