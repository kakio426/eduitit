<div class="clay-card p-6 rounded-2xl">
    <div class="flex items-center gap-3 mb-4">
        <span class="text-3xl">π€</span>
        <div>
            {% if rollback_done %}
            <h2 class="font-bold text-gray-800">μ§μ „ λ°°ν¬λ΅ λλλ Έμµλ‹λ‹¤.</h2>
            <p class="text-sm text-gray-500">ν•™μƒ μ ‘μ† μ£Όμ†λ” λ™μΌν•λ©°, μ΄μ „ μ„ΈνΈκ°€ λ‹¤μ‹ λ°°ν¬ μ¤‘μ…λ‹λ‹¤.</p>
            {% else %}
            <h2 class="font-bold text-gray-800">ν€΄μ¦κ°€ λ°°ν¬λμ—μµλ‹λ‹¤!</h2>
            <p class="text-sm text-gray-500">ν•™μƒλ“¤μ΄ μ§€κΈ λ°”λ΅ μ ‘μ†ν•  μ μμµλ‹λ‹¤.</p>
            {% endif %}
        </div>
    </div>

    <div class="p-4 bg-gray-50 rounded-xl mb-4">
        <p class="text-xs font-bold text-gray-500 mb-2">ν•™μƒ μ ‘μ† μ£Όμ†</p>
        <div class="flex items-center gap-2">
            <code class="text-sm text-purple-700 font-mono break-all flex-1">{{ student_url }}</code>
            <button onclick="navigator.clipboard.writeText('{{ student_url }}').then(()=>alert('λ³µμ‚¬λμ—μµλ‹λ‹¤!'))"
                    class="shrink-0 px-3 py-1.5 bg-purple-100 text-purple-600 rounded-lg text-xs font-bold hover:bg-purple-200 transition-colors">
                λ³µμ‚¬
            </button>
        </div>
    </div>

    <div class="flex items-center gap-2 text-sm text-green-600">
        <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
        λ°°ν¬ μ¤‘ Β· μλ™ κ°±μ‹ λλ” μ§„ν–‰ ν„ν™©μ„ μ•„λμ—μ„ ν™•μΈν•μ„Έμ”
    </div>

    {% if rollback_restore_set_id and not rollback_done %}
    <div class="mt-4 p-3 rounded-xl bg-amber-50 border border-amber-200">
        <p class="text-xs text-amber-700 mb-2">κΈ°μ΅΄ λ°°ν¬λ¥Ό λ®μ–΄μΌμµλ‹λ‹¤. λ¬Έμ κ°€ μμΌλ©΄ μ¦‰μ‹ μ§μ „ λ°°ν¬λ΅ λλλ¦΄ μ μμµλ‹λ‹¤.</p>
        <form hx-post="{% url 'seed_quiz:htmx_publish_rollback' classroom_id=classroom.id %}"
              hx-target="#preview-area"
              hx-swap="innerHTML">
            {% csrf_token %}
            <input type="hidden" name="restore_set_id" value="{{ rollback_restore_set_id }}">
            <input type="hidden" name="current_set_id" value="{{ rollback_from_set_id }}">
            <button type="submit"
                    class="px-4 py-2 rounded-lg bg-amber-100 text-amber-800 text-xs font-bold hover:bg-amber-200 transition-colors">
                μ§μ „ λ°°ν¬λ΅ λλλ¦¬κΈ°
            </button>
        </form>
    </div>
    {% endif %}
</div>
