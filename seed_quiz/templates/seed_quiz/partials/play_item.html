<!-- 문항 카드 -->
<div class="sq-container flex flex-col min-h-dvh px-4 py-8">

    <!-- 진행 배지 -->
    <div class="flex items-center justify-between mb-6">
        <div class="flex items-center gap-2">
            <span class="px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-bold">{{ item_no }}/{{ total }}</span>
        </div>
        <div class="flex gap-1">
            {% for i in "123" %}
            <div class="w-4 h-4 rounded-full {% if forloop.counter <= item_no %}bg-purple-500{% else %}bg-gray-200{% endif %}"></div>
            {% endfor %}
        </div>
    </div>

    <!-- 문제 -->
    <div class="flex-1 flex flex-col justify-center">
        <div class="mb-10">
            <p class="sq-question text-gray-800 font-bold leading-snug">{{ item.question_text }}</p>
        </div>

        <!-- 선택지 -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
            {% for choice in item.choices %}
            <button type="button"
                    class="sq-choice-btn bg-white border-2 border-gray-200 rounded-2xl text-gray-700 font-medium text-left hover:border-purple-400 hover:bg-purple-50 active:scale-95 transition-all"
                    hx-post="{% url 'seed_quiz:htmx_play_answer' %}"
                    hx-target="#quiz-area"
                    hx-swap="innerHTML"
                    hx-vals='{"item_id": "{{ item.id }}", "selected_index": "{{ forloop.counter0 }}"}'
                    hx-disabled-elt="find button"
                    onclick="this.classList.add('sq-choice-btn--selecting'); document.querySelectorAll('.sq-choice-btn').forEach(b => b.disabled = true);">
                <span class="inline-flex items-center gap-3">
                    <span class="sq-number-badge">
                        {{ forloop.counter }}
                    </span>
                    <span style="word-break:keep-all">{{ choice }}</span>
                </span>
            </button>
            {% endfor %}
        </div>
    </div>

    <!-- 하단 여백 -->
    <div class="pb-safe mt-4"></div>
</div>
