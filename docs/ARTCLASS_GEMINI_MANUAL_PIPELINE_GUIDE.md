# 몽글몽글 미술수업: Gemini 수동 복붙 파이프라인 사용 안내

## 1. 이 기능이 필요한 이유
- 일부 환경에서는 LLM API 연동이 제한되거나 불안정할 수 있습니다.
- 이 모드는 `Gemini 웹 화면에서 결과를 복사 -> 에듀잇에 붙여넣기`만으로 단계를 자동 구성합니다.
- 붙여넣은 결과는 서버에서 형식을 점검하고, 문제가 있으면 즉시 오류 메시지를 보여줍니다.

## 2. 사용 순서 (교사용)
1. `몽글몽글 미술 교실 > 수업 만들기`에서 유튜브 URL을 입력합니다.
2. `Gemini 수동 복사-붙여넣기 모드`에서 `프롬프트 복사` 버튼을 누릅니다.
3. Gemini 창에 붙여넣고 결과를 생성합니다.
4. Gemini 답변을 전체 복사해 `Gemini 결과 붙여넣기` 칸에 붙여넣습니다.
5. `결과 붙여넣기 적용`을 누릅니다.
6. 자동 생성된 단계를 확인하고 필요한 문장만 수정한 뒤 `수업 시작하기`를 누릅니다.

## 3. 권장 출력 형식 (JSON)
```json
{
  "video_title": "수업 제목",
  "steps": [
    {
      "start": "00:35",
      "end": "01:20",
      "summary": "도화지 중앙에 큰 원을 그리고 배경 색을 고른다.",
      "materials": ["도화지", "연필", "색연필"],
      "teacher_tip": "선 굵기를 달리하면 입체감이 살아난다."
    }
  ]
}
```

## 4. 파서/검증 동작 요약
- 지원 입력:
  - JSON 객체 (`steps` 배열)
  - JSON 코드블록 (```json ... ```)
  - 번호/불릿 텍스트 목록
- 자동 정규화:
  - `summary/text/description` 등 유사 키 자동 인식
  - `start/end/timecode` 시간 표기 인식 (`MM:SS`, `HH:MM:SS`, `75`, `1m15s`)
  - `materials`, `teacher_tip`을 단계 설명으로 합쳐 표시
- 검증 항목:
  - 단계 개수(최소 1, 최대 24)
  - 빈 단계, 과도하게 짧은/긴 단계
  - 중복 단계 과다
  - “정보 부족” 계열 문구만 존재하는 경우 차단

## 5. 자주 발생하는 오류와 해결
- `INVALID_JSON`: JSON 문법 오류입니다. 쉼표, 중괄호, 큰따옴표를 점검하세요.
- `MISSING_STEPS`: 최상위에 `steps` 배열이 없습니다.
- `STEP_TOO_SHORT`: 단계 설명이 너무 짧습니다. 학생 활동 문장으로 늘려 주세요.
- `DUPLICATED_STEPS`: 유사한 문장이 반복되었습니다. Gemini에 “중복 없이 단계 분리”를 요청하세요.
- `LOW_INFO`: 분석 가능한 정보가 부족합니다. 영상 URL 또는 프롬프트를 다시 확인하세요.

## 6. 권장 운영 팁
- 붙여넣기 후 바로 저장하지 말고 단계 문장을 1회 검수하세요.
- 학급 수준에 맞게 난이도 표현만 간단히 수정하면 품질이 크게 올라갑니다.
- 준비물/교사 팁은 길게 쓰기보다 한 줄 요약형이 수업 중 사용성이 좋습니다.
