{% extends 'autoarticle/wizard/base_wizard.html' %}

{% block wizard_content %}
<div class="clay-card p-10 bg-white/90 backdrop-blur-xl relative overflow-hidden" data-aos="zoom-in">
    <div
        class="absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 rounded-full bg-green-100 opacity-50 blur-3xl pointer-events-none">
    </div>

    <div class="relative z-10">
        <h3 class="text-3xl font-bold text-gray-800 mb-2">💡 AI 생성 기사 수정하기</h3>
        <p class="text-gray-500 mb-10 font-hand text-xl">AI가 작성한 초안입니다. 자유롭게 수정하여 완성해보세요.</p>

        <form method="post" action="{% url 'autoarticle:create' %}">
            {% csrf_token %}
            <input type="hidden" name="step" value="3">

            <div class="space-y-8">
                <!-- Title -->
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">📝 기사 제목</label>
                    <input type="text" name="title" value="{{ draft.title }}"
                        class="w-full px-6 py-5 rounded-3xl border-2 border-gray-100 focus:border-purple-400 text-3xl font-bold transition-all bg-gray-50 shadow-inner">
                </div>

                <!-- Content -->
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">✍️ 기사 본문</label>
                    <textarea name="content" rows="15"
                        class="w-full px-6 py-5 rounded-3xl border-2 border-gray-100 focus:border-purple-400 text-xl leading-relaxed transition-all bg-gray-50 shadow-inner">{{ draft.content }}</textarea>
                </div>

                <!-- Hashtags -->
                <div>
                    <label class="block text-sm font-bold text-gray-700 mb-2">🏷️ 해시태그 (공백으로 구분)</label>
                    <input type="text" name="hashtags" value="{{ draft.hashtags|join:' #' }}"
                        class="w-full px-6 py-4 rounded-3xl border-2 border-gray-100 focus:border-purple-400 text-lg transition-all bg-gray-50 shadow-inner">
                </div>
            </div>

            <!-- Buttons -->
            <div class="mt-12 grid grid-cols-1 md:grid-cols-3 gap-6">
                <button type="submit" name="action" value="save"
                    class="px-8 py-5 rounded-3xl bg-purple-600 text-white font-bold text-xl shadow-clay hover:bg-purple-700 transition-all flex items-center justify-center gap-2">
                    <i class="fa-solid fa-box-archive"></i> 최종 기사 보관하기
                </button>

                <button type="button" onclick="alert('곧 준비될 기능입니다! (Card News Generation)')"
                    class="px-8 py-5 rounded-3xl bg-white text-purple-600 border-2 border-purple-100 font-bold text-xl shadow-clay hover:bg-purple-50 transition-all flex items-center justify-center gap-2">
                    <i class="fa-solid fa-image"></i> 카드뉴스 즉시 제작
                </button>

                <a href="{% url 'autoarticle:create' %}"
                    class="px-8 py-5 rounded-3xl bg-gray-100 text-gray-500 font-bold text-xl shadow-clay hover:bg-gray-200 transition-all flex items-center justify-center gap-2 text-center">
                    <i class="fa-solid fa-xmark"></i> 작성 취소
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}