# Generated by Django 6.0.1 on 2026-01-30 13:31

from django.db import migrations



def create_ssambti_product(apps, schema_editor):
    """Create Ssambti product for production database"""
    Product = apps.get_model('products', 'Product')
    
    # Check if Ssambti product already exists
    if not Product.objects.filter(title='ìŒ¤BTI').exists():
        Product.objects.create(
            title='ìŒ¤BTI',
            lead_text='ë‚˜ëŠ” ì–´ë–¤ ì„ ìƒë‹˜ì¼ê¹Œ? ğŸ¦',
            description='12ê°€ì§€ ì§ˆë¬¸ìœ¼ë¡œ ì•Œì•„ë³´ëŠ” ë‚˜ì˜ êµìœ¡ ìŠ¤íƒ€ì¼! MBTI ê¸°ë°˜ í‹°ì²˜ë¸” ë™ë¬¼ì›ì—ì„œ ë‚˜ì™€ ë‹®ì€ ë™ë¬¼ì„ ì°¾ì•„ë³´ì„¸ìš”.',
            price=0.00,
            is_active=True,
            is_featured=False,
            is_guest_allowed=True,
            icon='ğŸ¦',
            color_theme='orange',
            card_size='small',
            display_order=0,
            service_type='tool',
            external_url='/ssambti/',
        )
        print("âœ“ Ssambti product created successfully!")
    else:
        print("â„¹ Ssambti product already exists, skipping creation.")


def delete_ssambti_product(apps, schema_editor):
    """Reverse migration: delete Ssambti product"""
    Product = apps.get_model('products', 'Product')
    Product.objects.filter(title='ìŒ¤BTI').delete()
    print("âœ“ Ssambti product deleted.")


class Migration(migrations.Migration):

    dependencies = [
        ('products', '0017_product_is_guest_allowed'),
    ]

    operations = [
        migrations.RunPython(create_ssambti_product, delete_ssambti_product),
    ]
